# FGUI Mapping Rules & Reference Guide

> This guide documents the semantic mapping rules derived from reverse-engineering FGUI and the `fgui-restore` library. It serves as the core logic for the `React2FGUI` converter.

## 1. Object Types (ObjectType)

Mapping between React/HTML tags and FGUI component types.

| FGUI Type | ID | Trigger Conditions in React Source |
| :--- | :--- | :--- |
| **Image** | 0 | `<img>`, `src="data:image..."`, `<svg>`, `data-svg-wrapper` |
| **MovieClip** | 1 | N/A (Future support via `.jta` extension) |
| **Graph** | 3 | Container `<div>` with background color but no text/children |
| **Loader** | 4 | `<img>` with external URL (vs embedded base64) |
| **Text** | 6 | `<span>`, `<p>`, or `<div>` containing only text |
| **RichText** | 7 | N/A |
| **InputText** | 8 | `<input>`, names containing "Input" |
| **Component** | 9 | `<div>` containing children, names starting with "Styled" (containers) |
| **List** | 10 | `<ul>`, `<li>` structures (Future support) |
| **Button** | 12 | `<button>`, names containing "Button", `onClick` props |
| **ProgressBar**| 14 | Names containing "Progress" (Future support) |

## 2. Property Mapping (CSS to FGUI)

Mapping between CSS styles and FGUI XML attributes.

### Geometry
| CSS Property | FGUI Attribute | Notes |
| :--- | :--- | :--- |
| `left`, `top` | `xy="x,y"` | Calculated cumulatively from parent stack |
| `width`, `height`| `size="w,h"` | Pixel values stripped of 'px' |

### Visuals
| CSS Property | FGUI Attribute | Notes |
| :--- | :--- | :--- |
| `opacity` | `alpha` | 0-1 float |
| `background-color`| `fillColor` | Hex string (e.g. `#FF0000`) |
| `color` | `color` | Font color |
| `font-size` | `fontSize` | Integer |
| `text-align` | `align` | `left`, `center`, `right` |

### Image Filling (LoaderFillType)
Based on `object-fit` CSS property:

| CSS `object-fit` | FGUI `fill` | Value | Description |
| :--- | :--- | :--- | :--- |
| (default) | `scaleFree` | 4 | Stretch to fit dimensions |
| `contain` | `scale` | 1 | Maintain aspect ratio, show all |
| `cover` | `scaleNoBorder`| 5 | Maintain aspect ratio, fill all |
| `none` | `none` | 0 | No scaling |

## 3. Resource Types

| File Ext | FGUI Resource Type |
| :--- | :--- |
| `.png`, `.jpg` | `image` |
| `.svg` | `image` (converted to SVG vector or rasterized) |
| `.xml` | `component` |
| `.fnt` | `font` |
| `.wav`, `.mp3` | `sound` |

## 4. Reference Code

The core reverse-engineering logic is located in: `libs/fgui-restore/utils/utils.js` and `build/create.js`.

---
*Generated by React2FGUI Team based on `krapnikkk/fgui-restore` analysis.*
